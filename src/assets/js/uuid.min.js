var getRandomValues,rnds8=new Uint8Array(16);function uuid_rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported.");return getRandomValues(rnds8)}var uuid_REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function uuid_validate(uuid){return"string"==typeof uuid&&uuid_REGEX.test(uuid)}for(var uuid_byteToHex=[],i=0;i<256;i+=1)uuid_byteToHex.push((i+256).toString(16).substr(1));function uuid_stringify(arr){var offset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,uuid=(uuid_byteToHex[arr[offset+0]]+uuid_byteToHex[arr[offset+1]]+uuid_byteToHex[arr[offset+2]]+uuid_byteToHex[arr[offset+3]]+"-"+uuid_byteToHex[arr[offset+4]]+uuid_byteToHex[arr[offset+5]]+"-"+uuid_byteToHex[arr[offset+6]]+uuid_byteToHex[arr[offset+7]]+"-"+uuid_byteToHex[arr[offset+8]]+uuid_byteToHex[arr[offset+9]]+"-"+uuid_byteToHex[arr[offset+10]]+uuid_byteToHex[arr[offset+11]]+uuid_byteToHex[arr[offset+12]]+uuid_byteToHex[arr[offset+13]]+uuid_byteToHex[arr[offset+14]]+uuid_byteToHex[arr[offset+15]]).toLowerCase();if(!uuid_validate(uuid))throw TypeError("Stringified UUID is invalid");return uuid}function uuid_v4(options,buf,offset){var rnds=(options=options||{}).random||(options.uuid_rng||uuid_rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf){offset=offset||0;for(var i=0;i<16;i+=1)buf[offset+i]=rnds[i];return buf}return uuid_stringify(rnds)}